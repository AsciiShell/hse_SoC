%!TEX TS-program = xelatex

% Шаблон документа LaTeX создан в 2018 году
% Алексеем Подчезерцевым
% В качестве исходных использованы шаблоны
% 	Данилом Фёдоровых (danil@fedorovykh.ru) 
%		https://www.writelatex.com/coursera/latex/5.2.2
%	LaTeX-шаблон для русской кандидатской диссертации и её автореферата.
%		https://github.com/AndreyAkinshin/Russian-Phd-LaTeX-Dissertation-Template

\documentclass[a4paper,14pt]{article}

\input{data/preambular.tex}
\begin{document} % конец преамбулы, начало документа
	\input{data/title.tex}
	\tableofcontents
	\pagebreak
	\section{Задание}
	
	\begin{enumerate}
		\item Используя статический временной анализ, получите оценку максимальной тактовой частоты
		для сумматоров различной разрядности (8, 16, 32, 64, 128, 256 бит). На основе указанных
		оценок опишите зависимость роста данного параметра от разрядности сумматора в виде
		функции.
		
		\item Модифицируйте АЛУ, приведенное в Листинге 5.12, таким образом, чтобы оно
		поддерживало 4 новых операции и имело ряд дополнительных выходов, которые реализуют
		флаги переполнения для арифметических операций. Создайте соответствующую
		структурную реализацию модифицированного АЛУ.
		
		\item Реализуйте блочный сумматор с каскадным переносом разрядности 16, 32, 64 и 128 бит.
		Варьируя значения параметров разрядности блока (WIDTH) и количества
		блоков (BLOCK\_COUNT), найдите их оптимальное соотношение с точки зрения задержки
		реализуемого блока, то есть такое соотношение, на котором достигается максимальная
		тактовая частота . Объясните полученные результаты.
		
		\item Используя статический временной анализ, получите оценку максимальной тактовой частоты
		сумматора с предварительным вычислением переноса для разных значений разрядности (8,
		16, 32, 64 и 128 бит). Опишите зависимость изменения данного параметра как функцию от
		разрядности исследуемого сумматора.
		
		\item Используя статический временной анализ, опишите зависимость максимальной тактовой
		частоты префиксного сумматора как функцию от разрядности исследуемого устройства .
		Сравните это поведение с поведением аналогичных функций для сумматора с
		последовательным вычислением переноса и для блочного сумматора с предварительным
		вычислением переноса.
		
	\end{enumerate}
	
	\section{Дополнительные задания}
	
	\subsection{Задание 1}
	
	\begin{table}[H]
		\begin{center}
			\begin{flushleft}
				\tablecaption{Оценка частоты для сумматоров разной размерности}
			\end{flushleft}
			\label{tab:task_1}
			\begin{tabular}{|c|c|}
				\hline
				Разрядность (бит)   & Максимальная тактовая частота (МГц)      \\ \hline
				4   & 425.89 \\ \hline
				8   & 418.94 \\ \hline
				16  & 292.65 \\ \hline
				32  & 239.52 \\ \hline
				64  & 165.7  \\ \hline
				128 & 99.04  \\ \hline
			\end{tabular}
		\end{center}
	\end{table}

	Зависимость можно описать  в виде формулы \ref{f_1}:

	\begin{equation}
	\nu = \dfrac{1}{t_1(m - 1) + t_2}
	\label{f_1}
	\end{equation}

	Где, $\nu$ -- максимальная частота, $t_1$ -- время между вычислениями соседних разрядов, $m$ -- число разрядов, $t_2$ -- время подсчета переноса.
	
	\subsection{Задание 2}
	
	\VerbatimInput{../z1/alu.v}
	
	\subsection{Задание 3}
	
	Максимальная тактовая частота не зависела от конкретных значений BLOCK\_WIDTH и BLOCK\_COUNT,
	а зависела только от их произведения -- параметра WIDTH.
	
	Возможно, это связано с тем, что критический путь сигнала проходит через одинаковое число переносов разряда.
	
	\begin{table}[H]
		\begin{center}
			\begin{flushleft}
				\tablecaption{Оценка частоты для блочных сумматоров разной размерности}
			\end{flushleft}
			\label{tab:task_3}
			\begin{tabular}{|c|c|}
				\hline
				Разрядность (бит)   & Максимальная тактовая частота (МГц)      \\ \hline
				4   & 426.44 \\ \hline
				8   & 376.08 \\ \hline
				16  & 226.09 \\ \hline
				32  & 233.26 \\ \hline
				64  & 171.5  \\ \hline
				128 & 101.7  \\ \hline
			\end{tabular}
		\end{center}
	\end{table}

	\subsection{Задание 4}

	\begin{table}[H]
		\begin{center}
			\begin{flushleft}
				\tablecaption{Оценка частоты для блочных сумматоров с предварительным переносом}
			\end{flushleft}
			\label{tab:task_4}
			\begin{tabular}{|c|c|}
				\hline
				Разрядность (бит)   & Максимальная тактовая частота (МГц)      \\ \hline
				4   & 294.03 \\ \hline
				8   & 169.61 \\ \hline
				16  & 118.01 \\ \hline
				32  & 107.84 \\ \hline
				64  & 80.02  \\ \hline
				128 & 72.96  \\ \hline
			\end{tabular}
		\end{center}
	\end{table}
	
	\subsection{Задание 5}
	
	\begin{table}[H]
		\begin{center}
			\begin{flushleft}
				\tablecaption{Оценка частоты префиксного сумматора}
			\end{flushleft}
			\label{tab:task_5}
			\begin{tabular}{|c|c|}
				\hline
				Разрядность (бит)   & Максимальная тактовая частота (МГц)      \\ \hline
				4   & 319.69 \\ \hline
				8   & 246.97 \\ \hline
				16  & 243.9  \\ \hline
				32  & 161.79 \\ \hline
				64  & 145.99 \\ \hline
				128 & 102.87 \\ \hline
			\end{tabular}
		\end{center}
	\end{table}

	Как можно заметить, префиксный сумматор быстрее аналогичного блочного сумматора с предварительным переносом.
	Однако, данный сумматор медленнее простого блочного сумматора, преимущество у префиксного появляется при разрядности 128 бит.
	Возможно, при большей разрядности, префиксный сумматор будет работать быстрее.
	
	\section{Задания для самостоятельной работы}
	
	Используя примеры кода из данного пособия, реализуйте следующие комбинационные
	блоки:
	Блочный сумматор с выбором переноса, имеющий настраиваемое число блоков
	BLOCK\_COUNТ и размер блока BLOCK\_SIZE.
	
	
	Блочный сумматор с выбором переноса реализуется следующим образом:
	независимо вычисляются результаты операции, если бы на вход подали сигнал переноса и не подали бы.
	Далее из двух результатов выбирается один с помощью мультиплексора, в зависимости от наличия сигнала переноса.
	
	\VerbatimInput{../extra/lab5.v}
	
	
	\section{Контрольные вопросы}
	
	\begin{enumerate}
		\item Что такое комбинационный сумматор? Приведите примеры реализаций.
		
		Комбинационный сумматор -- устройство, выполняющее арифметическое сложение чисел.
		
		\item С помощью каких средств Quartus Prime можно проанализировать технологически
		зависимую и структурную реализацию блоков проекта?
		
		RTL viewer, chip planner
		
		\item Опишите пример сумматора с синхронизированными входами и выходами. Для чего
		он использовался в данной главе?
		
		Синхронный сумматор используется в сложных устройствах;
		позволяет обрабатывать сигнал в финальной стадии, синхронизируя устройства.
		
		\item Опишите, для чего нужен статический временной анализ. Как осуществляется
		статический временной анализ в Quartus Prime?
		
		Статический временной анализ нужен для анализа быстродействия схемы, оптимизации отдельных компонентов.
		
		\item Опишите назначение компаратора и приведите примеры его реализации.
		
		Компараторы предназначены для сравнения многобитных сигналов.
		
		\item Опишите назначение устройства сдвига и приведите пример его реализации. Каких
		типов бывают устройства сдвига?
		
		Устройства сдвига позволяют смещать биты влево или вправо. 
		Так же бывают циклические регистры сдвига.
		
		\item АЛУ - назначение и пример реализации. Почему АЛУ обычно реализуют как
		комбинационное устройство?
		
		АЛУ -- устройство, позволяющее производить определенную операцию над числами в зависимости от управляющего входа.
		
		\item Иерархический подход к проектированию сумматоров различной размерности. Как
		осуществляется перенос и каскадное соединение сумматоров при иерархическом
		подходе?
		
		При иерархическом проектировании выход одного сумматора соединяется со входом следующего.
		Существуют способы оптимизации, при которых отсутствует длинная критическая цепочка переносов.
		
		\item Как осуществляется построение сумматоров с ускоренным групповым переносом?
		
		Сумматор с ускоренным групповым переносом осуществляется путем создания промежуточных блоков, которые производят вычисления переноса внутри себя.
		
		\item Опишите, как реализуется префиксный сумматор, и в чем его отличие от других типов
		сумматоров.
		
		При построении префиксного сумматора вычисляется итоговый перенос за логарифм от разрядности сумматора.
		В качестве идеи используется способ деления отрезка пополам.
		За счет этого достигается быстродействие.
		
	\end{enumerate}
	
	\section{Выводы по работе}
	
	В ходе работы получен опыт проектирования схем в программе Quartus с помощью языка Verilog.
	%Полученное устройство было протестировано с помощью бенчтестов в программе Quartus Simulation Waveform editor и ModelSim.
	В процессе работы были смоделированы различные арифметические и другие логические устройства.
	%В процессе работы были смоделированы различные шифраторы и дешифраторы, протестированы способы оптимизации схемы, а так же рассчитаны временные параметры схемы с различными способами оптимизации.
	В процессе был получен опыт работы с платой DE10-Lite, на которой проверялась работоспособность полученного устройства.
	
	\newpage 
	\renewcommand{\refname}{{\normalsize Список использованных источников}} 
	\centering 
	\begin{thebibliography}{9} 
		\addcontentsline{toc}{section}{\refname} 
		\bibitem{Verilog} Thomas D., Moorby P. The Verilog Hardware Description Language. – Springer Science \& Business Media, 2008.
		\bibitem{citekey} Khor W. Y. et al. Evaluation of FPGA Based QSPI Flash Access Using Partial Reconfiguration //2019 7th International Conference on Smart Computing \& Communications (ICSCC). – IEEE, 2019. – С. 1-5
	\end{thebibliography}
	
\end{document} % конец документа
